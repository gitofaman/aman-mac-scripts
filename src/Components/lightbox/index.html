<script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-gallery/3.4.0/js/blueimp-gallery.min.js"></script>
<link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/blueimp-gallery/3.4.0/css/blueimp-gallery.min.css" />

<!-- The Gallery as lightbox dialog, should be a document body child element -->
<div
  id="blueimp-gallery"
  class="blueimp-gallery blueimp-gallery-controls"
  aria-label="image gallery"
  aria-modal="true"
  role="dialog"
>
  <div class="slides" aria-live="polite"></div>
  <h3 class="title"></h3>
  <a
    class="prev"
    aria-controls="blueimp-gallery"
    aria-label="previous slide"
    aria-keyshortcuts="ArrowLeft"
  ></a>
  <a
    class="next"
    aria-controls="blueimp-gallery"
    aria-label="next slide"
    aria-keyshortcuts="ArrowRight"
  ></a>
  <a
    class="close"
    aria-controls="blueimp-gallery"
    aria-label="close"
    aria-keyshortcuts="Escape"
  ></a>
  <a
    class="play-pause"
    aria-controls="blueimp-gallery"
    aria-label="play slideshow"
    aria-keyshortcuts="Space"
    aria-pressed="false"
    role="button"
  ></a>
  <ol class="indicator"></ol>
</div>

<script>
    // requirements - 
    // the image should be wrapped in a "A Tag" element
    // A tag element should have same source as image
    // To group you'd want to make sure that the parent of collective a tags should be same
    // also need to add the blueimp gallery container that's at the top
    $(document).ready(function () {
        var ic = `.acm--tabs-content`

        $(`${ic}`).each(function () {
            var main = $(this)

            main.on('click', 'a', function (event) {
                event.preventDefault();
                var target = event.target || event.srcElement;
                var link = target.src ? $(target).parent() : $(target);
                // console.log(link)
                var links = main.find('a');
                var liIndex = links.index(link)
                var options = {
                    index: liIndex,
                    event: event
                };
                // console.log(links.attr('href'))
                blueimp.Gallery(links, options);
            });
        })
        var gallery = $('#blueimp-gallery').data('gallery')
        $('#blueimp-gallery').on('open', function (event) {
            // Gallery open event handler
            console.log('opening')
        }).on('opened', function (event) {
            // Gallery opened event handler
            console.log('opened')
        })
    })
</script>